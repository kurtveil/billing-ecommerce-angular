<mat-card>
    <mat-card-title>Registro</mat-card-title>
    <mat-card-content>
        <form [formGroup]="registroForm" (ngSubmit)="onSubmit()">
            <ul style="list-style: none;">
                <li>
                    <mat-form-field>
                        <mat-label>Nombre</mat-label>
                        <input matInput type="text" autocomplete="off" formControlName="username">
                        @if (registroForm.get('username')?.invalid && (registroForm.get('username')?.dirty || registroForm.get('username')?.touched)) {
                        @if (registroForm.get('username')?.errors?.['required']) {
                        <mat-error>El nombre es requerido.</mat-error>
                        }
                        }
                    </mat-form-field>
                </li>
                <li>
                    <mat-form-field>
                        <mat-label>Email</mat-label>
                        <input matInput type="email" autocomplete="off" formControlName="email">
                        @if (email?.invalid && (email?.dirty || email?.touched)) {
                        @if (email?.errors?.['required']) {
                        <mat-error>El email es requerido.</mat-error>
                        }
                        @if (email?.errors?.['email']) {
                        <mat-error>El email no es válido.</mat-error>
                        }
                        }
                    </mat-form-field>
                </li>
                <li>
                    <mat-form-field>
                        <mat-label>Contraseña</mat-label>
                        <input matInput type="password" autocomplete="off" formControlName="password">
                        @if (password?.invalid && (password?.dirty || password?.touched)) {
                        @if (password?.errors?.['required']) {
                        <mat-error>La contraseña es requerida.</mat-error>
                        }
                        @if (password?.errors?.['minlength']) {
                        <mat-error>La contraseña debe tener al menos 6 caracteres.</mat-error>
                        }
                        }
                    </mat-form-field>
                </li>
                <li>
                    <mat-form-field>
                        <mat-label>Confirmar contraseña</mat-label>
                        <input matInput type="password" autocomplete="off" formControlName="confirmPassword">
                        @if (confirmPassword?.invalid && (confirmPassword?.dirty || confirmPassword?.touched)) {
                        @if (confirmPassword?.errors?.['required']) {
                        <mat-error>Debes confirmar la contraseña.</mat-error>
                        }
                        }
                        @if (registroForm.errors?.['passwordMismatch']) {
                        <mat-error>Las contraseñas no coinciden.</mat-error>
                        }
                    </mat-form-field>
                </li>
            </ul>
            <div class="button">
                <button [disabled]="!registroForm.valid" mat-raised-button color="primary" type="submit">Registrarse</button>
            </div>
            <div class="button">
                <p> <a [routerLink]="['/login']">Iniciar Sesión</a> </p>
            </div>
        </form>
    </mat-card-content>
</mat-card>